# NYCU èª²ç¨‹çˆ¬èŸ² v4.0

[![Python](https://img.shields.io/badge/Python-3.7+-blue.svg)](https://www.python.org)
[![License](https://img.shields.io/badge/License-Apache%202.0-green.svg)](LICENSE)
[![NYCU](https://img.shields.io/badge/NYCU-é™½æ˜äº¤å¤§-orange.svg)](https://www.nycu.edu.tw)
[![GitHub stars](https://img.shields.io/github/stars/thc1006/nycu_timtable_crawler)](https://github.com/thc1006/nycu_timtable_crawler/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/thc1006/nycu_timtable_crawler)](https://github.com/thc1006/nycu_timtable_crawler/network)
[![GitHub issues](https://img.shields.io/github/issues/thc1006/nycu_timtable_crawler)](https://github.com/thc1006/nycu_timtable_crawler/issues)
[![GitHub last commit](https://img.shields.io/github/last-commit/thc1006/nycu_timtable_crawler)](https://github.com/thc1006/nycu_timtable_crawler/commits)

åœ‹ç«‹é™½æ˜äº¤é€šå¤§å­¸èª²ç¨‹è³‡è¨Šçˆ¬èŸ²ç³»çµ±

## ğŸ¯ åŠŸèƒ½ç‰¹è‰²

- âœ… **é›™æ¨¡å¼çˆ¬å–**ï¼šåŸºæœ¬è³‡è¨Š / å®Œæ•´èª²ç¨‹ç¶±è¦
- âœ… **æ–°è³‡æ–™æ ¼å¼**ï¼šé™£åˆ—æ ¼å¼ v2.0ï¼ˆæ˜“æ–¼è³‡æ–™åˆ†æèˆ‡ä½¿ç”¨ï¼‰
- âœ… **å¤šåŸ·è¡Œç·’æ”¯æ´**ï¼š4 åŸ·è¡Œç·’ä¸¦è¡Œï¼Œé€Ÿåº¦æå‡ 3-4 å€
- âœ… **çµæ§‹åŒ–è³‡æ–™**ï¼šæ™‚é–“ã€æ•™å®¤ã€å­¸åˆ†ç­‰è‡ªå‹•è§£æ
- âœ… **æ–·é»çºŒçˆ¬**ï¼šæ”¯æ´ä¸­æ–·å¾Œç¹¼çºŒçˆ¬å–
- âœ… **éŒ¯èª¤é‡è©¦**ï¼šè‡ªå‹•é‡è©¦æ©Ÿåˆ¶ï¼Œæé«˜æˆåŠŸç‡

## ğŸ“¦ å¿«é€Ÿé–‹å§‹

### 1. å®‰è£ç›¸ä¾å¥—ä»¶

```bash
pip install requests
```

### 2. çˆ¬å–å–®ä¸€å­¸æœŸï¼ˆåŸºæœ¬è³‡è¨Šï¼‰

```bash
python nycu_crawler.py
```

ä¿®æ”¹ `nycu_crawler.py` çš„åƒæ•¸ï¼š
```python
YEAR = 114          # å­¸å¹´åº¦
SEMESTER = 1        # å­¸æœŸ (1=ä¸Šå­¸æœŸ, 2=ä¸‹å­¸æœŸ)
FETCH_OUTLINE = False  # False=åŸºæœ¬è³‡è¨Š, True=å®Œæ•´ç¶±è¦
```

### 3. æ‰¹æ¬¡çˆ¬å–å¤šå€‹å­¸æœŸï¼ˆæ¨è–¦ï¼Œä½¿ç”¨å¤šåŸ·è¡Œç·’ï¼‰

```bash
python scripts/crawl_basic_batch_multithreaded.py
```

### 4. ä½¿ç”¨ Google Colab (å…å®‰è£ç’°å¢ƒ)

**åŸºæœ¬è³‡è¨Šç‰ˆï¼ˆå·²æ›´æ–°è‡³ v4.0ï¼‰**ï¼š
1. é–‹å•Ÿ `notebooks/NYCU_Crawler_Basic.ipynb`
2. ä¸Šå‚³åˆ° [Google Colab](https://colab.research.google.com/)
3. ä¾åºåŸ·è¡Œæ‰€æœ‰ cells
4. ä¸‹è¼‰ç”Ÿæˆçš„ JSON æª”æ¡ˆ

**å„ªé»**ï¼š
- ç„¡éœ€å®‰è£ Python ç’°å¢ƒ
- é›²ç«¯åŸ·è¡Œï¼Œä¸ä½”ç”¨æœ¬æ©Ÿè³‡æº
- å·²åŒ…å« v4.0 æ‰€æœ‰æ–°åŠŸèƒ½

**å®Œæ•´ç¶±è¦ç‰ˆ**ï¼š
- åƒè€ƒ `notebooks/README_NOTEBOOK_UPDATE.md`

## ğŸ“Š è³‡æ–™æ ¼å¼èªªæ˜

### æ–°æ ¼å¼ v2.0ï¼ˆé™£åˆ—æ ¼å¼ï¼‰

è¼¸å‡ºæª”æ¡ˆåŒ…å« `metadata` å’Œ `courses` å…©éƒ¨åˆ†ï¼š

```json
{
  "metadata": {
    "semester": "114-1",
    "semester_name": "113å­¸å¹´åº¦ä¸Šå­¸æœŸ",
    "total_courses": 8028,
    "last_updated": "2025-10-20T10:30:00Z",
    "data_format_version": "2.0"
  },
  "courses": [
    {
      "id": "515002",
      "semester_code": "1141",
      "name": "å¾®åˆ†æ–¹ç¨‹",
      "teacher": "æ¥Šæ˜¥ç¾",
      "credit": 3.0,
      "hours": 3.0,
      "type": "å¿…ä¿®",
      "enrollment": {
        "limit": 55,
        "current": 66
      },
      "schedule": [
        {
          "day": 1,
          "day_name": "Monday",
          "periods": [3, 4],
          "time_start": "10:10",
          "time_end": "12:00",
          "classroom": "EE102",
          "floor": "GF"
        }
      ],
      "english_taught": false,
      "tags": ["å·¥ç¨‹æ•¸å­¸"]
    }
  ]
}
```

### ä¸»è¦æ”¹é€²

| é …ç›® | èˆŠæ ¼å¼ | æ–°æ ¼å¼ v2.0 |
|------|--------|-------------|
| **è³‡æ–™çµæ§‹** | ç‰©ä»¶ï¼ˆObjectï¼‰ | é™£åˆ—ï¼ˆArrayï¼‰ |
| **å­¸åˆ†/æ™‚æ•¸** | å­—ä¸² `"3.00"` | æ•¸å­— `3.0` |
| **æ™‚é–“è¡¨** | å­—ä¸² `["M3", "M4"]` | çµæ§‹åŒ–ç‰©ä»¶ï¼ˆå«æ˜ŸæœŸã€ç¯€æ¬¡ã€æ™‚é–“ã€æ•™å®¤ï¼‰ |
| **äººæ•¸è³‡è¨Š** | å…©å€‹æ¬„ä½ | å·¢ç‹€ç‰©ä»¶ `enrollment` |
| **Metadata** | ç„¡ | å®Œæ•´å­¸æœŸè³‡è¨Š |

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
nycu_timtable_crawler/
â”œâ”€â”€ nycu_crawler.py                    # ä¸»è¦çˆ¬èŸ²ç¨‹å¼ (v4.0)
â”œâ”€â”€ check_progress.py                  # é€²åº¦ç›£æ§å·¥å…·
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ crawl_basic_batch_multithreaded.py      # åŸºæœ¬è³‡è¨Šï¼ˆå¤šåŸ·è¡Œç·’ï¼Œæ¨è–¦ï¼‰
â”‚   â”œâ”€â”€ crawl_outline_batch_multithreaded.py    # å®Œæ•´ç¶±è¦ï¼ˆå¤šåŸ·è¡Œç·’ï¼‰
â”‚   â””â”€â”€ single_thread/
â”‚       â”œâ”€â”€ crawl_basic_batch.py                # æ‰¹æ¬¡çˆ¬å–ï¼ˆå–®åŸ·è¡Œç·’ï¼‰
â”‚       â””â”€â”€ crawl_with_outline.py               # å®Œæ•´ç¶±è¦ï¼ˆå–®åŸ·è¡Œç·’ï¼‰
â”œâ”€â”€ course_data/
â”‚   â”œâ”€â”€ basic/                         # åŸºæœ¬èª²ç¨‹è³‡è¨Šï¼ˆå·²å®Œæˆï¼‰
â”‚   â”‚   â”œâ”€â”€ 110-1_data.json           # 7,055 é–€èª²ç¨‹
â”‚   â”‚   â”œâ”€â”€ 110-2_data.json           # 7,298 é–€èª²ç¨‹
â”‚   â”‚   â”œâ”€â”€ 111-1_data.json           # 7,197 é–€èª²ç¨‹
â”‚   â”‚   â”œâ”€â”€ 111-2_data.json           # 7,075 é–€èª²ç¨‹
â”‚   â”‚   â”œâ”€â”€ 112-1_data.json           # 7,853 é–€èª²ç¨‹
â”‚   â”‚   â”œâ”€â”€ 112-2_data.json           # 7,261 é–€èª²ç¨‹
â”‚   â”‚   â”œâ”€â”€ 113-1_data.json           # 7,997 é–€èª²ç¨‹
â”‚   â”‚   â”œâ”€â”€ 113-2_data.json           # 7,385 é–€èª²ç¨‹
â”‚   â”‚   â””â”€â”€ 114-1_data.json           # 8,028 é–€èª²ç¨‹
â”‚   â””â”€â”€ with_outline/                  # å®Œæ•´èª²ç¨‹ç¶±è¦ï¼ˆçˆ¬å–ä¸­ï¼‰
â”œâ”€â”€ notebooks/                         # Jupyter Notebook ç‰ˆæœ¬
â”‚   â”œâ”€â”€ NYCU_Crawler_Basic.ipynb      # åŸºæœ¬è³‡è¨Šç‰ˆï¼ˆå·²æ›´æ–°è‡³ v4.0ï¼‰
â”‚   â”œâ”€â”€ NYCU_Crawler_WithOutline.ipynb  # å®Œæ•´ç¶±è¦ç‰ˆ
â”‚   â””â”€â”€ README_NOTEBOOK_UPDATE.md     # Notebook èªªæ˜æ–‡ä»¶
â””â”€â”€ README.md
```

## ğŸš€ ä½¿ç”¨æ¡ˆä¾‹

### åŸºæœ¬è³‡è¨Šæ¨¡å¼

**é©ç”¨æ–¼**ï¼š
- èª²è¡¨æ’èª²å·¥å…·
- èª²ç¨‹æœå°‹ç³»çµ±
- é¸èª²åŠ©æ‰‹
- æ™‚é–“è¡å ‚æª¢æŸ¥

**çˆ¬å–é€Ÿåº¦**ï¼šæ¯å­¸æœŸç´„ 2-3 åˆ†é˜ï¼ˆç´„ 7,000-8,000 é–€èª²ç¨‹ï¼‰

### å®Œæ•´ç¶±è¦æ¨¡å¼

**é©ç”¨æ–¼**ï¼š
- èª²ç¨‹å…§å®¹ç ”ç©¶
- æ•™å­¸å¤§ç¶±è³‡æ–™åº«
- èª²ç¨‹æ¨è–¦ç³»çµ±
- å…ˆä¿®èª²ç¨‹åˆ†æ

**çˆ¬å–é€Ÿåº¦**ï¼šæ¯å­¸æœŸç´„ 50-60 åˆ†é˜ï¼ˆéœ€å‘¼å« 4 å€‹é¡å¤– APIï¼‰

**é¡å¤–åŒ…å«**ï¼š
- èª²ç¨‹æè¿°ã€å…ˆä¿®ç§‘ç›®
- è©•åˆ†æ–¹å¼ã€æ•™ç§‘æ›¸
- æ¯é€±æˆèª²é€²åº¦ï¼ˆ16-18 é€±ï¼‰
- å–®å…ƒæ™‚æ•¸åˆ†é…

## ğŸ’¡ å¸¸è¦‹å•é¡Œ

### Q: å¦‚ä½•åªçˆ¬å–æœ€æ–°å­¸æœŸï¼Ÿ

ä¿®æ”¹ `nycu_crawler.py` ä¸¦ç›´æ¥åŸ·è¡Œï¼š
```python
YEAR = 114
SEMESTER = 1
```

### Q: å¦‚ä½•çˆ¬å–å®Œæ•´ç¶±è¦ï¼Ÿ

æ–¹æ³•ä¸€ï¼šä¿®æ”¹ä¸»ç¨‹å¼
```python
FETCH_OUTLINE = True  # æ”¹ç‚º True
```

æ–¹æ³•äºŒï¼šä½¿ç”¨å°ˆç”¨è…³æœ¬
```bash
python scripts/single_thread/crawl_with_outline.py
```

### Q: è³‡æ–™æ›´æ–°é »ç‡ï¼Ÿ

å»ºè­°æ¯å­¸æœŸé–‹å­¸å‰ 1-2 é€±çˆ¬å–ä¸€æ¬¡ï¼Œèª²ç¨‹è³‡è¨Šè¼ƒç©©å®šã€‚

### Q: ç‚ºä»€éº¼ä½¿ç”¨é™£åˆ—æ ¼å¼ï¼Ÿ

é™£åˆ—æ ¼å¼ç¬¦åˆæ¥­ç•Œæ¨™æº–ï¼ˆRESTful APIï¼‰ï¼Œæ˜“æ–¼ï¼š
- åˆ†é ã€æ’åºã€ç¯©é¸
- åŒ¯å…¥è³‡æ–™åº«ï¼ˆPostgreSQL/MongoDBï¼‰
- å‰ç«¯æ¡†æ¶ä½¿ç”¨ï¼ˆReact/Vueï¼‰
- è³‡æ–™åˆ†æï¼ˆPandasï¼‰

## ğŸ“ˆ æ•ˆèƒ½æ•¸æ“š

| å­¸æœŸ | èª²ç¨‹æ•¸ | æª”æ¡ˆå¤§å° | çˆ¬å–æ™‚é–“ |
|------|--------|----------|----------|
| 110-1 | 7,055 | 5.3 MB | 2åˆ†36ç§’ |
| 110-2 | 7,298 | 5.0 MB | 3åˆ†03ç§’ |
| 111-1 | 7,197 | 5.2 MB | 2åˆ†57ç§’ |
| 111-2 | 7,075 | 5.1 MB | 3åˆ†10ç§’ |
| 112-1 | 7,853 | 5.7 MB | 3åˆ†09ç§’ |
| 112-2 | 7,261 | 5.2 MB | 2åˆ†51ç§’ |
| 113-1 | 7,997 | 5.8 MB | 3åˆ†03ç§’ |
| 113-2 | 7,385 | 5.3 MB | 3åˆ†07ç§’ |
| 114-1 | 8,028 | 5.8 MB | 2åˆ†34ç§’ |

**ç¸½è¨ˆ**ï¼š66,149 é–€èª²ç¨‹ï¼Œ47.4 MBï¼Œä½¿ç”¨å¤šåŸ·è¡Œç·’ç´„ 3 åˆ†é˜å®Œæˆå…¨éƒ¨

## ğŸ”§ æŠ€è¡“ç´°ç¯€

### çµæ§‹åŒ–æ™‚é–“è§£æ

åŸå§‹æ ¼å¼ï¼š`"M34W2-EE102[GF]"`

è§£æç‚ºï¼š
```json
{
  "day": 1,
  "day_name": "Monday",
  "periods": [3, 4],
  "time_start": "10:10",
  "time_end": "12:00",
  "classroom": "EE102",
  "floor": "GF"
}
```

### æ™‚æ®µå°ç…§è¡¨

- **æ˜ŸæœŸä»£ç¢¼**ï¼šM=ä¸€, T=äºŒ, W=ä¸‰, R=å››, F=äº”, S=å…­, U=æ—¥
- **ç¯€æ¬¡ä»£ç¢¼**ï¼š
  - y = 06:00-06:50
  - z = 07:00-07:50
  - 1-9 = 08:00-18:20
  - n = 12:10-13:00
  - a-d = 18:25-22:00

## ğŸ“ ç‰ˆæœ¬æ­·å²

### v4.0 (2025-10-20)
- âœ¨ å…¨æ–°é™£åˆ—æ ¼å¼ v2.0
- âœ¨ çµæ§‹åŒ–æ™‚é–“/æ•™å®¤è§£æ
- âœ¨ å¤šåŸ·è¡Œç·’æ‰¹æ¬¡çˆ¬å–
- âœ¨ å‹åˆ¥æ¨™æº–åŒ–ï¼ˆæ•¸å­—æ”¹ç”¨ numberï¼‰
- âœ¨ åŠ å…¥ metadata è³‡è¨Š
- âœ¨ ç¯„ä¾‹è…³æœ¬ï¼ˆèª²ç¨‹æœå°‹ã€çµ±è¨ˆåˆ†æã€è¡å ‚æª¢æ¸¬ï¼‰

### v3.0
- æ”¯æ´æ–·é»çºŒçˆ¬
- éŒ¯èª¤é‡è©¦æ©Ÿåˆ¶
- é€²åº¦é¡¯ç¤ºèˆ‡ ETA

### v2.0
- åŠ å…¥å®Œæ•´èª²ç¨‹ç¶±è¦æ”¯æ´
- æ‰¹æ¬¡çˆ¬å–åŠŸèƒ½

### v1.0
- åŸºæœ¬èª²ç¨‹è³‡è¨Šçˆ¬å–

## ğŸ“š ä½¿ç”¨ç¯„ä¾‹

æˆ‘å€‘æä¾›äº†å¯¦ç”¨çš„ç¯„ä¾‹è…³æœ¬ï¼Œä½æ–¼ `examples/` ç›®éŒ„ï¼š

### 1. èª²ç¨‹æœå°‹ (`search_courses.py`)
```bash
python examples/search_courses.py
```
ç¤ºç¯„å¦‚ä½•ï¼š
- ä¾èª²ç¨‹åç¨±æœå°‹ï¼ˆå¦‚ã€Œå¾®ç©åˆ†ã€ï¼‰
- ä¾æ•™å¸«å§“åæœå°‹
- ä¾å­¸åˆ†æ•¸æœå°‹
- ä¾ä¸Šèª²æ™‚é–“æœå°‹ï¼ˆå¦‚æ˜ŸæœŸä¸€çš„èª²ï¼‰

### 2. çµ±è¨ˆåˆ†æ (`analyze_statistics.py`)
```bash
python examples/analyze_statistics.py
```
æä¾›ï¼š
- å­¸åˆ†åˆ†å¸ƒåœ–è¡¨
- èª²ç¨‹é¡å‹çµ±è¨ˆ
- æˆèª²èªè¨€æ¯”ä¾‹
- ç†±é–€ä¸Šèª²æ™‚æ®µ
- é¸èª²ç†±é–€åº¦åˆ†æ

### 3. è¡å ‚æª¢æ¸¬ (`check_conflicts.py`)
```bash
python examples/check_conflicts.py
```
åŠŸèƒ½ï¼š
- æª¢æŸ¥å…©é–€èª²ç¨‹æ˜¯å¦è¡çª
- æ‰¾å‡ºé¸èª²æ¸…å–®ä¸­çš„æ‰€æœ‰è¡çª
- å°‹æ‰¾ä¸è¡çªçš„èª²ç¨‹çµ„åˆ

è©³ç´°èªªæ˜è«‹åƒé–±å„è…³æœ¬å…§çš„è¨»è§£ã€‚

## ğŸ“œ æˆæ¬Š

Apache License 2.0

è©³è¦‹ [LICENSE](LICENSE) æª”æ¡ˆã€‚

## ğŸ™‹ å•é¡Œå›å ±èˆ‡è²¢ç»

- å•é¡Œå›å ±ï¼šè«‹é–‹ [Issue](https://github.com/thc1006/nycu_timtable_crawler/issues)
- è²¢ç»æŒ‡å—ï¼šåƒé–± [CONTRIBUTING.md](CONTRIBUTING.md)
- ç‰ˆæœ¬æ­·å²ï¼šåƒé–± [CHANGELOG.md](CHANGELOG.md)
- è¯çµ¡ä¿¡ç®±ï¼šhctsai@linux.com

æ­¡è¿é™½æ˜äº¤å¤§çš„åŒå­¸å€‘ä¸€èµ·åƒèˆ‡è²¢ç»ï¼

---

**æ›´æ–°æ—¥æœŸ**: 2025-10-20
**çˆ¬èŸ²ç‰ˆæœ¬**: v4.0
**è³‡æ–™æ ¼å¼**: v2.0 (é™£åˆ—æ ¼å¼)
**è³‡æ–™é›†**: 110-1 è‡³ 114-1 å­¸æœŸï¼ˆ66,149 é–€èª²ç¨‹ï¼‰
